## 1. URI和URL

URI：统一资源标志符

URL：统一资源定位符

示例：https://github.com/favicon.ico是Github的网站图标链接，它是一个URI，也是一个URL。用URI/URL可以唯一指定访问方式，并从互联网上获取该资源。

URI包含URL和URN两部分，URN为统一资源名称，只命名资源而不指定如何定位资源。在目前的互联网，URN 的使用非常少，几乎所有的 URI 都是 URL。

## 2. 超文本

网页的源代码可以称为超文本，是一系列 HTML 代码，里面包含了一系列标签，比如 img 显示图片，p 指定显示段落等。浏览器解析这些标签后，便形成了我们平常看到的网页。

## 3. HTTP和HTTPS

**HTTP**：超文本传输协议，是用于从网络传输超文本数据到本地浏览器的传送协议，它能保证高效而准确地传送超文本文档。

**HTTPS**：以安全为目标的 HTTP 通道，简单讲是 HTTP 的安全版，即 HTTP 下加入 SSL 层。

HTTPS 的安全基础是 SSL，因此通过它传输的内容都是经过 **SSL 加密**的，它的主要作用可以分为两种：

- 建立一个信息安全通道，来保证数据传输的安全。
- 确认网站的真实性，凡是使用了 HTTPS 的网站，都可以通过点击浏览器地址栏的锁头标志来查看网站认证之后的真实信息，也可以通过 CA 机构颁发的安全签章来查询。

## 4. HTTP请求过程

浏览器向网站所在的服务器发送了一个请求，网站服务器接收到这个请求后进行处理和解析，然后返回对应的响应，接着传回给浏览器。响应里包含了页面的源代码等内容，浏览器再对其进行解析，便将网页呈现了出来。

<img src="https://gitee.com/linwang0714/ImgHosting/raw/master/article_img//20200829_01.png" style="zoom:50%;" />

此处客户端即代表我们自己的 PC 或手机浏览器，服务器即要访问的网站所在的服务器。

## 5. 请求

由客户端向服务端发出请求，分为4部分：**请求方法、请求网址、请求头和请求体**。

### 5.1 请求方法：GET和POST

GET 和 POST 请求方法有如下区别：

- GET 请求中的参数包含在 URL 里面，数据可以在 URL 中看到，而 POST 请求的 URL 不会包含这些数据，数据都是通过表单形式传输的，会包含在请求体中。
- GET 请求提交的数据最多只有 1024 字节，而 POST 请求没有限制。

### 5.2 请求头

用来说明服务器要使用的附加信息，比较重要的信息有 Cookie、Referer、User-Agent 等。

**Cookie：**网站为了辨别用户进行会话跟踪而存储在用户本地的数据。它的主要功能是维持当前访问会话。

**User-Agent：**简称 UA，可以使服务器识别客户使用的操作系统及版本、浏览器及版本等信息。在做爬虫时加上此信息，可以伪装为浏览器。

注意：请求头是请求的重要组成部分，在写爬虫时，大部分情况下都需要设定请求头。

### 5.3 请求体

请求体一般承载的内容是 POST 请求中的表单数据，而对于 GET 请求，请求体则为空。

| 方法                              | 描述             |
| --------------------------------- | ---------------- |
| Content-Type                      | 提交数据的方式   |
| application/x-www-form-urlencoded | 表单数据         |
| multipart/form-data               | 表单文件上传     |
| application/json                  | 序列化 JSON 数据 |
| text/xml                          | XML 数据         |

在爬虫中，如果要构造 POST 请求，需要使用正确的 Content-Type，并了解各种请求库的各个参数设置时使用的是哪种 Content-Type，不然可能会导致 POST 提交后无法正常响应。

## 5.4 响应

由服务端返回给客户端，分为三部分：**响应状态码、响应头和响应体**。

- 响应状态码

响应状态码表示服务器的响应状态。在爬虫中，我们可以根据状态码来判断服务器响应状态，如状态码为 200，则证明成功返回数据，再进行进一步的处理，否则直接忽略。

**部分状态码：**

| 状态码 | 说明           | 详情                                               |
| ------ | -------------- | -------------------------------------------------- |
| 200    | 成功           | 服务器已成功处理了请求                             |
| 400    | 错误请求       | 服务器无法解析该请求                               |
| 401    | 未授权         | 请求没有进行身份验证或验证未通过                   |
| 403    | 禁止访问       | 服务器拒绝了此请求                                 |
| 404    | 未找到         | 服务器找不到请求的网页                             |
| 405    | 方法禁用       | 服务器禁用了请求中指定额方法                       |
| 408    | 请求超时       | 服务器请求超时                                     |
| 410    | 已删除         | 请求的资源已永久删除                               |
| 500    | 服务器内部错误 | 服务器遇到错误，无法完成请求                       |
| 501    | 未实现         | 服务器不具备完成请求的功能                         |
| 502    | 错误网关       | 服务器作为网关或代理，从上游服务器收到无效响应     |
| 503    | 服务不可用     | 服务器目前无法使用                                 |
| 504    | 网关超时       | 服务器作为网关或代理，没有及时从上游服务器收到请求 |
| 505    | HTTP版本不支持 | 服务器不支持请求中所用的HTTP协议版本               |

- 响应头

响应头包含了服务器对请求的应答信息，如 Content-Type、Server、Set-Cookie 等。

**Content-Type：**文档类型，指定返回的数据类型是什么。

**Set-Cookie：**设置 Cookies。响应头中的 Set-Cookie 告诉浏览器需要将此内容放在 Cookies 中，下次请求携带 Cookies 请求。

- 响应体

响应的正文数据都在响应体中，比如请求网页时，它的响应体就是网页的 HTML 代码。请求一张图片时，它的响应体就是图片的二进制数据。我们做爬虫请求网页后，要解析的内容就是响应体。

在做爬虫时，我们主要通过响应体得到网页的源代码、JSON 数据等，然后从中做相应内容的提取。

