获得HTML源码后，如何去获得我们想要的数据呢？正则表达式就是一种有效的方法。

正则表达式不是 Python 独有的，它也可以用在其他编程语言中。但是 Python 的 re 库提供了整个正则表达式的实现，利用这个库，可以在 Python 中使用正则表达式。

## 1. match

**match 方法**：尝试从字符串的**起始位置**匹配正则表达式，如果匹配，就返回匹配成功的结果；如果不匹配，就返回 None。

```python
import re

content = 'Hello123World456'
print(len(content))
result = re.match(r'Hello(\d+)', content)
print(result)
print(result.group())  # 完整的匹配结果
print(result.group(1)) # 第一个子表达式匹配的结果
print(result.span())
# 输出
16
<re.Match object; span=(0, 8), match='Hello123'>
Hello123
123
(0, 8)
```

如果我们从字符串中提取一部分内容，可以使用 `()` 括号将想提取的子字符串括起来。`()` 实际上标记了一个子表达式的开始和结束位置，被标记的每个子表达式会依次对应每一个分组，调用 group 方法传入分组的索引即可获取提取的结果。

**匹配任意字符**：`.*`

**贪婪与非贪婪**：`.*`是一种贪婪匹配所有字符，`.*?`是一种非贪婪匹配。

**修饰符**：

当要匹配的内容中包含换行符时，`.*?` 就会匹配失败。通过修饰符 `re.S`可以解决，作用是匹配包括换行符在内的所有字符。

常见的修饰符：

| 修饰符 | 描述                       |
| ------ | -------------------------- |
| re.I   | 匹配对大小写不敏感         |
| re.M   | 多行匹配，影响 ^ 和 $      |
| re.S   | 匹配包括换行在内的所有字符 |

示例：

```python
import re

content = '''Hello 1234567 World_This
is a Regex Demo
'''
result = re.match('^He.*?(\d+).*?Demo$', content, re.S)
print(result.group(1))
# 输出
1234567
```

**转义字符**：

当遇到用于正则匹配模式的特殊字符时，在前面加反斜线转义一下即可。例 `.` 就可以用 `\.` 来匹配。



